# Описание

Один из пользователей русского Stackoverflow [поинтересовался](https://ru.stackoverflow.com/q/861086/204271), можно ли методы контроллера отмечать аннотацией `@Transactional`. Я ответил:

> Можно. Никаких технических ограничений для этого нет. Но не нужно, так как это неправильно с точки зрения
> проектирования архитектуры. Ни контроллеры, ни слой доступа к данным не могут располагать необходимыми знаниями
> о взаимосвязях данных, в контексте которых имеет смысл транзакции применять. Это прерогатива сервисного слоя, в
> котором и должна располагаться вся бизнес-логика.

Но другой пользователь усомнился в правильности ответа и настаивал на невозможности этого:

> НельзЯ, однозначно и бесповоротно. Будут проблемы связанные с обработкой транзакций.

Этот примитивный проект на Spring Boot создан чтобы развеять все сомнения.

#### Установка и запуск

```sh
$ hg clone https://github.com/TheDeadOne/spring-transactional-controller-demo.git
$ cd spring-transactional-controller-demo
$ mvn package
$ java -jar target/demo-0.0.1-SNAPSHOT.jar
```

#### Использование

Просто откройте в браузере http://localhost:8080/ и несколько раз нажмите на ссылку "Попытаться создать новые сущности". Создаваться всего будет по 10 элементов, несмотря на то, что на каждой итерации может возникнуть исключение. Это доказывает, что аннотация `@Transactional` успешно справляется со своими обязанностями даже тогда, когда аннотирует методы контроллера.
